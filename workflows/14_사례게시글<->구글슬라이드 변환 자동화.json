{"createdAt":"2024-12-06T01:35:54.421Z","updatedAt":"2024-12-19T05:42:56.000Z","id":"HyjfX3Tr5Jcu85h5","name":"14_사례게시글<->구글슬라이드 변환 자동화","active":true,"nodes":[{"parameters":{"workflowId":{"__rl":true,"value":"NdYsl2DxRQEFUXG9","mode":"list","cachedResultName":"GPTers — slackNoti_n8n_log"},"options":{}},"id":"f60da687-70ea-4eb7-b7ef-9b02a2298d44","name":"Execute Workflow","type":"n8n-nodes-base.executeWorkflow","typeVersion":1.1,"position":[3500,600],"alwaysOutputData":false,"executeOnce":true},{"parameters":{"workflowId":{"__rl":true,"value":"XVWUaUPaaiGofxQ6","mode":"list","cachedResultName":"GPTers — 03_slackNoti_airtable"},"options":{}},"id":"7f7c3a18-bd5b-4fcd-a927-44270a7767be","name":"Execute Workflow1","type":"n8n-nodes-base.executeWorkflow","typeVersion":1.1,"position":[4920,340],"executeOnce":true},{"parameters":{"operation":"search","base":{"__rl":true,"value":"https://airtable.com/appsRgeLHAbb1wIZU/tblGckFQ2ZUEjYqJA/viwMJjwm29PWhQZWi?blocks=hide","mode":"url"},"table":{"__rl":true,"value":"tblGckFQ2ZUEjYqJA","mode":"list","cachedResultName":"최근 1년 게시글","cachedResultUrl":"https://airtable.com/appsRgeLHAbb1wIZU/tblGckFQ2ZUEjYqJA"},"filterByFormula":"={URL} = {{ JSON.stringify($json.body.url) }}","options":{}},"id":"fd6a662b-9738-4ba1-a7ef-485ef2a57059","name":"Fetch Case Caption Data","type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1080,320],"notesInFlow":true,"credentials":{"airtableTokenApi":{"id":"v6sNKykfBVnEaT0g","name":"Airtable Personal Access Token account"}},"notes":"사례 게시글의 캡션 데이터를 Airtable에서 조회하는 노드"},{"parameters":{"operation":"update","base":{"__rl":true,"value":"https://airtable.com/appsRgeLHAbb1wIZU/tblGckFQ2ZUEjYqJA/viwMJjwm29PWhQZWi?blocks=hide","mode":"url"},"table":{"__rl":true,"value":"tblKTujZcvOlsWAg5","mode":"list","cachedResultName":"흥미로운 포인트","cachedResultUrl":"https://airtable.com/appsRgeLHAbb1wIZU/tblKTujZcvOlsWAg5"},"columns":{"mappingMode":"defineBelow","value":{"r_id":"={{ $('Webhook').first().json.body.r_id }}","생성된_마크다운":"={{ $json.message.content }}"},"matchingColumns":["r_id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"r_id","displayName":"r_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"url","displayName":"url","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"전화번호","displayName":"전화번호","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"흥미로운 점","displayName":"흥미로운 점","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"참여자","displayName":"참여자","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"array","readOnly":false,"removed":false},{"id":"이름_닉네임","displayName":"이름_닉네임","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"최근 1년 게시글","displayName":"최근 1년 게시글","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"array","readOnly":false,"removed":false},{"id":"게시글_작성일","displayName":"게시글_작성일","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"게시글_작성자","displayName":"게시글_작성자","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"게시글_제목","displayName":"게시글_제목","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"게시글_클로드 요약","displayName":"게시글_클로드 요약","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"게시글_URL","displayName":"게시글_URL","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"생성된_마크다운","displayName":"생성된_마크다운","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}]},"options":{}},"id":"6908e932-d1a2-414b-b812-2fa0b3a1bfcc","name":"Update Airtable Markdown","type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1900,340],"notesInFlow":true,"credentials":{"airtableTokenApi":{"id":"v6sNKykfBVnEaT0g","name":"Airtable Personal Access Token account"}},"notes":"생성된 마크다운 내용을 Airtable에 업데이트하는 노드\n\n"},{"parameters":{"jsCode":"function processMarkdown(items) {\n    // Get markdown text from the input\n    const markdownText = items[0].json.fields.생성된_마크다운;\n\n    // 먼저 ### 섹션을 ## 진행 세부 내용 🔍로 변환\n    let modifiedText = markdownText.replace(\n        /(### \\*\\*\\d+\\.)/g, \n        '## 진행 세부 내용 🔍\\n\\n$1'\n    );\n\n    // ### 헤더를 일반 텍스트로 변환\n    modifiedText = modifiedText.replace(\n        /### \\*\\*(\\d+\\. .+?)\\*\\*/g,  \n        '$1'\n    );\n\n    // ** 볼드 마크다운 제거\n    modifiedText = modifiedText.replace(/\\*\\*/g, '');\n\n    // Return the modified markdown\n    return [{\n        json: {\n            fields: {\n                생성된_마크다운: modifiedText\n            }\n        }\n    }];\n}\n\n// N8n에서는 이렇게 호출됩니다:\nreturn processMarkdown($input.all());\n"},"id":"2083a516-3dbc-4a9b-bade-6f8db0adca61","name":"Markdown Processor","type":"n8n-nodes-base.code","typeVersion":2,"position":[2120,340],"executeOnce":true,"notesInFlow":true,"notes":"생성된 마크다운 텍스트를 가공(포맷 수정)하는 코드 노드\n\n"},{"parameters":{"assignments":{"assignments":[{"id":"9aa6fbef-68a5-4f75-8110-762e5989bed3","name":"folderId","value":"1F9fddbWPY-5ofuO-5UemIbZosYd4vj3j","type":"string"},{"id":"ed6dd815-77ea-45c1-8e39-bff082a3750f","name":"markdownText","value":"={{ $json.fields['생성된_마크다운'] }}","type":"string"},{"id":"889288d8-57d3-429e-83fa-f04a08e0b311","name":"title","value":"={{ $('Update Airtable Markdown').item.json.fields['게시글_제목'][0] }}","type":"string"},{"id":"01bd5f7e-e91f-4f56-b918-c6fdcbc975fd","name":"writer","value":"={{ $('Update Airtable Markdown').item.json.fields['게시글_작성자'][0] }}","type":"string"},{"id":"3fbf8197-827b-40e2-8c2f-5cb32e5d4598","name":"write_at","value":"={{ $('Update Airtable Markdown').item.json.fields['게시글_작성일'][0].slice(0,10) }}","type":"string"},{"id":"4bb5487f-fa12-49d5-8ae9-e644151a7379","name":"url","value":"={{ $('Update Airtable Markdown').item.json.fields.url }}","type":"string"},{"id":"339a6980-cb85-4620-b706-d18e4be5c1d4","name":"interest","value":"={{ $('Webhook').item.json.body.interest }}","type":"string"},{"id":"eaf8f424-833c-42d6-997c-cbc67d0bd95e","name":"name","value":"={{ $('Webhook').item.json.body.name[0] }}","type":"string"}]},"options":{}},"id":"f3a0fdce-97ab-478f-8b32-e993d7f9ce8e","name":"Set Slide Creation Fields","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2320,340],"notesInFlow":true,"notes":"슬라이드 생성을 위해 필요한 필드를 설정하는 노드\n\n"},{"parameters":{"method":"POST","url":"https://script.google.com/macros/s/AKfycbxj-aCvDbDiccZju6t5GWCneGoY6XFWaVhbKyXIPJJ-yAHCU7GFIXRvGMR7OJ-mnRauGA/exec","sendBody":true,"specifyBody":"json","jsonBody":"=[{{ JSON.stringify($json) }}]","options":{}},"id":"d2438bf9-1ffb-4686-b51a-afe8faa331fc","name":"Slide Creation API Call","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2520,340],"executeOnce":false,"retryOnFail":false,"maxTries":5,"waitBetweenTries":5000,"notesInFlow":true,"onError":"continueRegularOutput","notes":"슬라이드 제작을 요청하기 위해 외부 API에 POST 요청을 보내는 노드\n\n"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{ $json.presentation.url }}","mode":"url"},"permissionsUi":{"permissionsValues":{"role":"writer","type":"anyone"}},"options":{}},"id":"ecf6f7e2-ead8-42f1-9633-4323ac3dd02b","name":"Google Drive Sharing","type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2740,340],"notesInFlow":true,"credentials":{"googleDriveOAuth2Api":{"id":"NWnrHyjTqPrRa3n7","name":"Google Drive account"}},"notes":"Google Drive에 생성된 슬라이드를 공유 설정하는 노드\n\n"},{"parameters":{"resource":"assistant","assistantId":{"__rl":true,"value":"asst_7BVp26rBBseMdm3tBYhnwetN","mode":"list","cachedResultName":"사례글 <-> 구글 슬라이드 변환"},"prompt":"define","text":"=제목 : {{ $json['제목'] }}\n게시판 : {{ $json['게시판'] }}\nURL : {{ $json.URL }}\n작성자 : {{ $json['작성자'] }}\n작성일 :  {{ $json['작성일'] }}\n본문 : {{ $json['본문'] }}","options":{"timeout":20000}},"id":"06a75a46-7073-40fa-b692-8dde77136b4b","name":"OpenAI Content Generation (v1)","type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.6,"position":[1440,540],"notesInFlow":true,"credentials":{"openAiApi":{"id":"5ia0q77KiqTwi2aM","name":"OpenAi account"}},"notes":"OpenAI를 통해 첫 번째 슬라이드 초안을 생성하는 노드\n\n"},{"parameters":{"modelId":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"GPT-4O"},"messages":{"values":[{"content":"당신은 발표 슬라이드 장표를 구성하는 도우미 역할을 합니다. 아래 주어진 입력과 이전에 생성된 첫 번째 출력 결과를 기반으로, 각 섹션별로 적합한 슬라이드 장표 구성 내용을 다시 작성하세요. 단, **\"## 진행 세부 내용 🔍\"** 섹션을 기존보다 훨씬 더 구체적으로 작성합니다. 나머지 섹션(제목, 하려던 것, 활용한 툴, 시행착오, 배운 점)은 기존 수준을 유지하세요.\n\n발표 슬라이드는 다음과 같은 구조로 구성합니다:\n\n## (게시글의 제목)\n- 제목 / 게시판 / url / 작성자 이름 / 작성일 순서대로 제공\n- 게시판 / url / 작성자 이름 / 작성일 포함\n- 마크다운 형태로 출력\n\n## 하려던 것 📝\n- 기존 수준 유지\n\n## 활용한 툴 🛠️\n- 기존 수준 유지\n\n## 진행 세부 내용 🔍  \n- 이전 생성된 결과보다 훨씬 더 상세히 기술할 것\n- 각 단계를 H3로 표시하고 해당 단계에서 진행한 시도, 사용한 프롬프트 예시, 실패 및 수정 과정을 모두 불렛포인트로 나열\n- \"무엇을, 왜, 어떻게\" 했는지 구체적으로 서술\n- 실제로 시도한 프롬프트를 인용구 형태(\"...\")로 제시하고, 해당 프롬프트로 인해 어떤 결과 및 수정이 있었는지 설명\n- 발생한 문제점, 에러 메시지, 로그 분석 과정, 사용한 도구(n8n, OpenAI GPTs 등)와 명령어를 구체적으로 언급\n- 사용된 프롬프트는 인용구로 표현\n- '~함' 형태의 문장 사용\n\n## 시행착오 ⚠️\n- 기존 수준 유지\n\n## 배운 점 📚\n- 기존 수준 유지\n\n## 작성 스타일\n- 모든 항목을 불렛포인트로 나열\n- 모든 출력을 마크다운 코드블럭 형태로 출력\n- 간결하면서도 청자가 이해하기 쉽게 명확히 작성\n- 모든 H2, H3에 볼드체 적용\n\n아래는 이전에 생성된 첫 번째 출력 결과를 입력으로 활용하고, \"## 진행 세부 내용 🔍\" 섹션을 더욱 상세하고 구체적으로 기술하여 최종 결과물을 제시하는 요청입니다.\n","role":"system"},{"content":"=본문 : {{ $('Fetch Case Caption Data').item.json['본문'] }}\n첫 번째 출력 결괴 :  {{ $json.output }}"}]},"options":{"maxTokens":16383,"temperature":0}},"id":"f4a84867-2ad3-4f12-8de2-69310e9157ee","name":"OpenAI Content Generation (v2)","type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.6,"position":[1420,880],"notesInFlow":true,"credentials":{"openAiApi":{"id":"5ia0q77KiqTwi2aM","name":"OpenAi account"}},"notes":"OpenAI를 통해 슬라이드 내용을 더 구체적이고 상세히 생성하는 노드\n\n"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"418a156f-9f0b-4596-8306-e8e6c5798712","leftValue":"={{ $('Slide Creation API Call').item.json.presentation.url }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}}],"combinator":"and"},"options":{}},"id":"072d7968-0151-4e3f-9fcc-7f286ea038b1","name":"Check Slide Creation Success","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[3000,340],"notesInFlow":true,"notes":"슬라이드 생성 성공 여부를 조건으로 확인하는 노드\n\n"},{"parameters":{"httpMethod":"POST","path":"contentToSlide","options":{}},"id":"3032dbdc-2ff1-4552-86ac-fb663bb616cc","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[820,320],"webhookId":"86bbed6b-bf6a-401c-8f16-74f00c5ff695"},{"parameters":{"method":"POST","url":"={{ $vars.gpters_internal_api_endpoint }}/emails","sendHeaders":true,"headerParameters":{"parameters":[{"name":"={{ $vars.gpters_internal_api_token_key }}","value":"={{ $vars.gpters_internal_api_token }}"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"content","value":"={{ $json.content }}"},{"name":"preview","value":"={{ $json.preview }}"},{"name":"bcc","value":"={{ [JSON.stringify($json.email) ]}}"},{"name":"title","value":"={{ $json.title }}"},{"name":"transactionId","value":"={{ $json.transactionId }}"},{"name":"=emailId","value":"={{ $json.emailId }}"}]},"options":{"batching":{"batch":{"batchSize":10,"batchInterval":10000}}}},"id":"53fe403e-887c-45be-925c-eb5cdf3015a5","name":"Email Sending API","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3700,340],"retryOnFail":true,"maxTries":5,"waitBetweenTries":5000,"notesInFlow":true,"onError":"continueRegularOutput","notes":"- **설명**: 준비된 이메일 콘텐츠를 지정된 API로 전송합니다.\n- **기능**: 설정된 API 엔드포인트로 이메일을 POST 요청으로 전송합니다. 실패 시 최대 5회 재시도하며, 성공 시 알림을 전송합니다."},{"parameters":{"assignments":{"assignments":[{"id":"6b9af878-44db-4e39-bdcd-4f3b0fb8f52b","name":"email","value":"={{ $('Webhook').item.json.body.email[0] }}","type":"string"},{"id":"e1abb5e1-24c7-4f93-a599-fc4ec54a74a7","name":"title","value":"=[지피터스 사례탐색 스터디] {{ $('Fetch Case Caption Data').item.json['제목'] }} 슬라이드를 전달드립니다.","type":"string"},{"id":"7bfdf960-61e7-413c-bc66-fee9f0e8e960","name":"preview","value":"=[지피터스 사례탐색 스터디] {{ $('Fetch Case Caption Data').item.json['제목'] }} 슬라이드를 전달드립니다.","type":"string"},{"id":"7da176d0-58f6-4102-8ced-3e418a69e5ca","name":"content","value":"=안녕하세요, **{{ $('Webhook').item.json.body.name[0] }}** 님.\n\n**{{ $('Fetch Case Caption Data').item.json['제목'] }}** 슬라이드 초안이 제작 완료되었습니다.\n\n**슬라이드 항목**\n\n\n- 하려던 것 📝\n- 활용한 툴 🛠️\n- 진행 세부 내용 🔍\n- 시행착오 ⚠️\n- 배운 점 📚\n- 흥미로운 포인트 👀\n\n\n해당 슬라이드는 GPT로 생성한 것이기 때문에 할루시네이션(거짓 내용)이 있을 수 있습니다. 슬라이드 초안을 살펴보시고, 스터디원들에게 공유해줄 내용으로 약간 수정하여 사용하시면 됩니다!\n\n\n**슬라이드 초안 확인하기** : [링크]({{ $('Slide Creation API Call').item.json.presentation.url }})","type":"string"},{"id":"a21ba986-b0fa-4adc-a4de-31c4ddbdebbd","name":"transactionId","value":"={{ $now.format('yyMMddhhmmss') }}","type":"string"},{"id":"ab6b7cdf-2c70-445d-a20e-fc81ee914835","name":"emailId","value":"사례글 <-> 슬라이드","type":"string"}]},"options":{}},"id":"6cbf6e7a-bd0c-4525-a901-36ab81f8683b","name":"setEmailContent","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3320,340],"notes":"### 6. sendEmail\n- **설명**: 준비된 콘텐츠를 이메일로 전송하기 위해 데이터를 준비합니다.\n- **기능**: Airtable 및 템플릿에서 추출한 이메일, 제목, 내용, 미리보기 등의 정보를 설정합니다."},{"parameters":{"assignments":{"assignments":[{"id":"e098d614-d3f6-430e-8cad-a80eba37bffe","name":"text","value":"구글 슬라이드 자동화 에러 발생","type":"string"}]},"options":{}},"id":"3b6d1d54-c71f-4be7-9bb8-a50f40fa2ac5","name":"setErrorMessage","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3320,600]},{"parameters":{"operation":"update","base":{"__rl":true,"value":"https://airtable.com/appsRgeLHAbb1wIZU/tblGckFQ2ZUEjYqJA/viwMJjwm29PWhQZWi?blocks=hide","mode":"url"},"table":{"__rl":true,"value":"tblKTujZcvOlsWAg5","mode":"list","cachedResultName":"흥미로운 포인트","cachedResultUrl":"https://airtable.com/appsRgeLHAbb1wIZU/tblKTujZcvOlsWAg5"},"columns":{"mappingMode":"defineBelow","value":{"id":"={{ $('Webhook').item.json.body.r_id }}","생성된_슬라이드":"={{ $('Slide Creation API Call').item.json.presentation.url }}"},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true},{"id":"r_id","displayName":"r_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"url","displayName":"url","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"전화번호","displayName":"전화번호","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"흥미로운 점","displayName":"흥미로운 점","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"참여자","displayName":"참여자","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"array","readOnly":false,"removed":false},{"id":"이름_닉네임","displayName":"이름_닉네임","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"최근 1년 게시글","displayName":"최근 1년 게시글","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"array","readOnly":false,"removed":false},{"id":"게시글_작성일","displayName":"게시글_작성일","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"게시글_작성자","displayName":"게시글_작성자","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"게시글_제목","displayName":"게시글_제목","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"게시글_클로드 요약","displayName":"게시글_클로드 요약","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"게시글_URL","displayName":"게시글_URL","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"생성된_마크다운","displayName":"생성된_마크다운","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"이메일","displayName":"이메일","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"생성된_슬라이드","displayName":"생성된_슬라이드","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}]},"options":{}},"id":"34a6e57b-bc25-4222-a501-d3776d0b8060","name":"saveSlideUrlAirtable","type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[4200,340],"credentials":{"airtableTokenApi":{"id":"v6sNKykfBVnEaT0g","name":"Airtable Personal Access Token account"}}},{"parameters":{"assignments":{"assignments":[{"id":"15f8805a-a78c-4454-aaa9-5e9d032b445d","name":"text","value":"={{ $('Slide Creation API Call').item.json.presentation.url }} 슬라이드 생성 성공!","type":"string"}]},"options":{}},"id":"e14328b1-068e-412d-9c90-e06f882ffef4","name":"setSuccessText","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[4700,340]},{"parameters":{"content":"## WEBHOOK 입력을 받고  Airtable에서 본문 데이터를 가져와 OPENAI API 호출을 2번 진행합니다.","height":845.6832670157065,"width":1066.5770890052333,"color":7},"id":"622c9c9d-6b73-47b8-bd5a-32d0580ebe0c","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[800,260]},{"parameters":{"content":"## 생성된 마크다운 내용을 저장 및 전처리","height":331.4208167539266,"width":389.1126282722514},"id":"1fc944e6-7f34-44d7-969e-5e9da8bf63bc","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[1880,260]},{"parameters":{"content":"## 슬라이드 생성과 생성된 슬라이드 권한을 변경합니다.","height":323.54763699196485,"width":621.5874345549744},"id":"b3229bc0-56da-45b1-8e26-3a447490fb6e","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[2280,263.09663525934394]},{"parameters":{"content":"## 구글 슬라이드가 제대로 만들어지지 않은 경우 예외처리","height":258.6686123042877,"width":568.8953743476251},"id":"3eb9dd6f-b75b-4ec1-8d9e-454a82a749c0","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[3260,540]},{"parameters":{"content":"## 만들어진 슬라이드를 폼을 작성한 작성자에게 이메일로 송부 후 슬라이드 url을 Airtable에 저장","height":247.32739249919732,"width":952.2286037596846},"id":"e29147ae-9c7b-407d-9f30-dbf539e0888a","name":"Sticky Note4","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[3260,260]},{"parameters":{"content":"## 구글 슬라이드가 제대로 만들어진 경우 슬랙에 알림","height":258.6686123042877,"width":568.8953743476251},"id":"259e61b5-b74e-4c9b-a298-3009c1d04ffa","name":"Sticky Note5","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[4440,260]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"358eb780-bc54-47da-8f64-2dab6c1c709c","leftValue":"={{ $json.error.message }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}}],"combinator":"and"},"options":{}},"id":"1e60f796-2e13-4566-99a5-474b89e11cd7","name":"If","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[3960,340]},{"parameters":{"workflowId":{"__rl":true,"value":"NdYsl2DxRQEFUXG9","mode":"list","cachedResultName":"GPTers — slackNoti_n8n_log"},"options":{}},"id":"74e65d78-1299-4839-b29e-3526d6c3317c","name":"Execute Workflow2","type":"n8n-nodes-base.executeWorkflow","typeVersion":1.1,"position":[4900,600],"executeOnce":true},{"parameters":{"assignments":{"assignments":[{"id":"15f8805a-a78c-4454-aaa9-5e9d032b445d","name":"text","value":"={{ $json.error.message }} 에러발생","type":"string"}]},"options":{}},"id":"6f40c360-707e-4909-a589-eaf480527374","name":"setErrorText","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[4680,600]},{"parameters":{"content":"## 구글 슬라이드가 제대로 만들어지지 않은 경우 예외처리","height":258.6686123042877,"width":568.8953743476251},"id":"569823f5-1378-4d00-9a12-e31cdc212027","name":"Sticky Note6","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[4440,540]}],"connections":{"Fetch Case Caption Data":{"main":[[{"node":"OpenAI Content Generation (v1)","type":"main","index":0}]]},"Update Airtable Markdown":{"main":[[{"node":"Markdown Processor","type":"main","index":0}]]},"Markdown Processor":{"main":[[{"node":"Set Slide Creation Fields","type":"main","index":0}]]},"Set Slide Creation Fields":{"main":[[{"node":"Slide Creation API Call","type":"main","index":0}]]},"Slide Creation API Call":{"main":[[{"node":"Google Drive Sharing","type":"main","index":0}]]},"Google Drive Sharing":{"main":[[{"node":"Check Slide Creation Success","type":"main","index":0}]]},"OpenAI Content Generation (v1)":{"main":[[{"node":"OpenAI Content Generation (v2)","type":"main","index":0}]]},"OpenAI Content Generation (v2)":{"main":[[{"node":"Update Airtable Markdown","type":"main","index":0}]]},"Check Slide Creation Success":{"main":[[{"node":"setEmailContent","type":"main","index":0}],[{"node":"setErrorMessage","type":"main","index":0}]]},"Webhook":{"main":[[{"node":"Fetch Case Caption Data","type":"main","index":0}]]},"Email Sending API":{"main":[[{"node":"If","type":"main","index":0}]]},"setEmailContent":{"main":[[{"node":"Email Sending API","type":"main","index":0}]]},"setErrorMessage":{"main":[[{"node":"Execute Workflow","type":"main","index":0}]]},"saveSlideUrlAirtable":{"main":[[{"node":"setSuccessText","type":"main","index":0}]]},"setSuccessText":{"main":[[{"node":"Execute Workflow1","type":"main","index":0}]]},"If":{"main":[[{"node":"setErrorText","type":"main","index":0}],[{"node":"saveSlideUrlAirtable","type":"main","index":0}]]},"setErrorText":{"main":[[{"node":"Execute Workflow2","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","saveManualExecutions":false,"callerPolicy":"workflowsFromSameOwner","errorWorkflow":"2FkHbmnpOA9Y42fo"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{"Content To Slide Webhook":[{"json":{"headers":{"host":"geniefy.app.n8n.cloud","user-agent":"Mozilla/5.0 (compatible; AirtableScripting; +https://airtable.com/developers/scripting;)","content-length":"222","accept":"*/*","accept-encoding":"gzip, br","authorization":"Basic Z3B0ZXJzOkdwdGVyczIwMjNAIw==","cdn-loop":"cloudflare; loops=1; subreqs=1","cf-connecting-ip":"34.229.158.175","cf-ew-via":"15","cf-ipcountry":"US","cf-ray":"8f03590a45075a28-IAD","cf-visitor":"{\"scheme\":\"https\"}","cf-worker":"n8n.cloud","content-type":"application/json","x-airtable-source":"appsRgeLHAbb1wIZU/wflXioM09JEdvaWSL","x-forwarded-for":"34.229.158.175, 172.70.35.81","x-forwarded-host":"geniefy.app.n8n.cloud","x-forwarded-port":"443","x-forwarded-proto":"https","x-forwarded-server":"traefik-prod-users-gwc-5-6fbf5bdbfc-6hns9","x-is-trusted":"yes","x-real-ip":"34.229.158.175"},"params":{},"query":{},"body":{"phone":"01041140750","url":"https://www.gpters.org/dev/post/donggeoindeulyi-saenghwalbi-nbbang-jeongsanhagi-feat-streamlit-hAU33mj53dWRBBB","interest":"테스트\n테스트\n","r_id":"rec2qLuLUyotcosBa","email":["jgpark1998@gmail.com"],"name":["박정기"]},"webhookUrl":"https://geniefy.app.n8n.cloud/webhook/contentToSlide","executionMode":"production"}}],"Webhook":[{"json":{"headers":{"host":"geniefy.app.n8n.cloud","user-agent":"Mozilla/5.0 (compatible; AirtableScripting; +https://airtable.com/developers/scripting;)","content-length":"494","accept":"*/*","accept-encoding":"gzip, br","authorization":"Basic Z3B0ZXJzOkdwdGVyczIwMjNAIw==","cdn-loop":"cloudflare; loops=1; subreqs=1","cf-connecting-ip":"54.160.152.202","cf-ew-via":"15","cf-ipcountry":"US","cf-ray":"8f128ca4e1f66f9d-IAD","cf-visitor":"{\"scheme\":\"https\"}","cf-worker":"n8n.cloud","content-type":"application/json","x-airtable-source":"appsRgeLHAbb1wIZU/wflm7wGJsvosfKbIR","x-forwarded-for":"54.160.152.202, 172.70.175.34","x-forwarded-host":"geniefy.app.n8n.cloud","x-forwarded-port":"443","x-forwarded-proto":"https","x-forwarded-server":"traefik-prod-users-gwc-5-6fbf5bdbfc-6hns9","x-is-trusted":"yes","x-real-ip":"54.160.152.202"},"params":{},"query":{},"body":{"phone":"01044535752","url":"https://www.gpters.org/dev/post/donggeoindeulyi-saenghwalbi-nbbang-jeongsanhagi-feat-streamlit-hAU33mj53dWRBBB","interest":"대단한 앱 서비스가 아니라, 진짜 일상생활에 필요하고 유용한 자동화를 쉽게 해낸 점이 흥미로웠음\n스트림릿이 뭔지 몰라도 코드 한 줄 안짜고도 GPT만 쓰고도 필요한 웹 UI까지 담은 점이 흥미로웠음","r_id":"recHFSpaYhpJJFFzZ","email":"dahye@gpters.org","name":"송다혜"},"webhookUrl":"https://geniefy.app.n8n.cloud/webhook/contentToSlide","executionMode":"production"}}]},"versionId":"d250c91e-d636-47d5-bcfc-2693e477e116","triggerCount":1,"tags":[{"createdAt":"2024-10-30T08:32:06.157Z","updatedAt":"2024-10-30T08:32:06.157Z","id":"6XNkyT4y92x85aDE","name":"이메일"}]}