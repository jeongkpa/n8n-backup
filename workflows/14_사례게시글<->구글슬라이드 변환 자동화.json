{"createdAt":"2024-12-06T01:35:54.421Z","updatedAt":"2024-12-19T05:42:56.000Z","id":"HyjfX3Tr5Jcu85h5","name":"14_ì‚¬ë¡€ê²Œì‹œê¸€<->êµ¬ê¸€ìŠ¬ë¼ì´ë“œ ë³€í™˜ ìë™í™”","active":true,"nodes":[{"parameters":{"workflowId":{"__rl":true,"value":"NdYsl2DxRQEFUXG9","mode":"list","cachedResultName":"GPTers â€” slackNoti_n8n_log"},"options":{}},"id":"f60da687-70ea-4eb7-b7ef-9b02a2298d44","name":"Execute Workflow","type":"n8n-nodes-base.executeWorkflow","typeVersion":1.1,"position":[3500,600],"alwaysOutputData":false,"executeOnce":true},{"parameters":{"workflowId":{"__rl":true,"value":"XVWUaUPaaiGofxQ6","mode":"list","cachedResultName":"GPTers â€” 03_slackNoti_airtable"},"options":{}},"id":"7f7c3a18-bd5b-4fcd-a927-44270a7767be","name":"Execute Workflow1","type":"n8n-nodes-base.executeWorkflow","typeVersion":1.1,"position":[4920,340],"executeOnce":true},{"parameters":{"operation":"search","base":{"__rl":true,"value":"https://airtable.com/appsRgeLHAbb1wIZU/tblGckFQ2ZUEjYqJA/viwMJjwm29PWhQZWi?blocks=hide","mode":"url"},"table":{"__rl":true,"value":"tblGckFQ2ZUEjYqJA","mode":"list","cachedResultName":"ìµœê·¼ 1ë…„ ê²Œì‹œê¸€","cachedResultUrl":"https://airtable.com/appsRgeLHAbb1wIZU/tblGckFQ2ZUEjYqJA"},"filterByFormula":"={URL} = {{ JSON.stringify($json.body.url) }}","options":{}},"id":"fd6a662b-9738-4ba1-a7ef-485ef2a57059","name":"Fetch Case Caption Data","type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1080,320],"notesInFlow":true,"credentials":{"airtableTokenApi":{"id":"v6sNKykfBVnEaT0g","name":"Airtable Personal Access Token account"}},"notes":"ì‚¬ë¡€ ê²Œì‹œê¸€ì˜ ìº¡ì…˜ ë°ì´í„°ë¥¼ Airtableì—ì„œ ì¡°íšŒí•˜ëŠ” ë…¸ë“œ"},{"parameters":{"operation":"update","base":{"__rl":true,"value":"https://airtable.com/appsRgeLHAbb1wIZU/tblGckFQ2ZUEjYqJA/viwMJjwm29PWhQZWi?blocks=hide","mode":"url"},"table":{"__rl":true,"value":"tblKTujZcvOlsWAg5","mode":"list","cachedResultName":"í¥ë¯¸ë¡œìš´ í¬ì¸íŠ¸","cachedResultUrl":"https://airtable.com/appsRgeLHAbb1wIZU/tblKTujZcvOlsWAg5"},"columns":{"mappingMode":"defineBelow","value":{"r_id":"={{ $('Webhook').first().json.body.r_id }}","ìƒì„±ëœ_ë§ˆí¬ë‹¤ìš´":"={{ $json.message.content }}"},"matchingColumns":["r_id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"r_id","displayName":"r_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"url","displayName":"url","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"ì „í™”ë²ˆí˜¸","displayName":"ì „í™”ë²ˆí˜¸","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"í¥ë¯¸ë¡œìš´ ì ","displayName":"í¥ë¯¸ë¡œìš´ ì ","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"ì°¸ì—¬ì","displayName":"ì°¸ì—¬ì","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"array","readOnly":false,"removed":false},{"id":"ì´ë¦„_ë‹‰ë„¤ì„","displayName":"ì´ë¦„_ë‹‰ë„¤ì„","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ìµœê·¼ 1ë…„ ê²Œì‹œê¸€","displayName":"ìµœê·¼ 1ë…„ ê²Œì‹œê¸€","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"array","readOnly":false,"removed":false},{"id":"ê²Œì‹œê¸€_ì‘ì„±ì¼","displayName":"ê²Œì‹œê¸€_ì‘ì„±ì¼","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ê²Œì‹œê¸€_ì‘ì„±ì","displayName":"ê²Œì‹œê¸€_ì‘ì„±ì","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ê²Œì‹œê¸€_ì œëª©","displayName":"ê²Œì‹œê¸€_ì œëª©","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ê²Œì‹œê¸€_í´ë¡œë“œ ìš”ì•½","displayName":"ê²Œì‹œê¸€_í´ë¡œë“œ ìš”ì•½","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ê²Œì‹œê¸€_URL","displayName":"ê²Œì‹œê¸€_URL","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ìƒì„±ëœ_ë§ˆí¬ë‹¤ìš´","displayName":"ìƒì„±ëœ_ë§ˆí¬ë‹¤ìš´","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}]},"options":{}},"id":"6908e932-d1a2-414b-b812-2fa0b3a1bfcc","name":"Update Airtable Markdown","type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1900,340],"notesInFlow":true,"credentials":{"airtableTokenApi":{"id":"v6sNKykfBVnEaT0g","name":"Airtable Personal Access Token account"}},"notes":"ìƒì„±ëœ ë§ˆí¬ë‹¤ìš´ ë‚´ìš©ì„ Airtableì— ì—…ë°ì´íŠ¸í•˜ëŠ” ë…¸ë“œ\n\n"},{"parameters":{"jsCode":"function processMarkdown(items) {\n    // Get markdown text from the input\n    const markdownText = items[0].json.fields.ìƒì„±ëœ_ë§ˆí¬ë‹¤ìš´;\n\n    // ë¨¼ì € ### ì„¹ì…˜ì„ ## ì§„í–‰ ì„¸ë¶€ ë‚´ìš© ğŸ”ë¡œ ë³€í™˜\n    let modifiedText = markdownText.replace(\n        /(### \\*\\*\\d+\\.)/g, \n        '## ì§„í–‰ ì„¸ë¶€ ë‚´ìš© ğŸ”\\n\\n$1'\n    );\n\n    // ### í—¤ë”ë¥¼ ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜\n    modifiedText = modifiedText.replace(\n        /### \\*\\*(\\d+\\. .+?)\\*\\*/g,  \n        '$1'\n    );\n\n    // ** ë³¼ë“œ ë§ˆí¬ë‹¤ìš´ ì œê±°\n    modifiedText = modifiedText.replace(/\\*\\*/g, '');\n\n    // Return the modified markdown\n    return [{\n        json: {\n            fields: {\n                ìƒì„±ëœ_ë§ˆí¬ë‹¤ìš´: modifiedText\n            }\n        }\n    }];\n}\n\n// N8nì—ì„œëŠ” ì´ë ‡ê²Œ í˜¸ì¶œë©ë‹ˆë‹¤:\nreturn processMarkdown($input.all());\n"},"id":"2083a516-3dbc-4a9b-bade-6f8db0adca61","name":"Markdown Processor","type":"n8n-nodes-base.code","typeVersion":2,"position":[2120,340],"executeOnce":true,"notesInFlow":true,"notes":"ìƒì„±ëœ ë§ˆí¬ë‹¤ìš´ í…ìŠ¤íŠ¸ë¥¼ ê°€ê³µ(í¬ë§· ìˆ˜ì •)í•˜ëŠ” ì½”ë“œ ë…¸ë“œ\n\n"},{"parameters":{"assignments":{"assignments":[{"id":"9aa6fbef-68a5-4f75-8110-762e5989bed3","name":"folderId","value":"1F9fddbWPY-5ofuO-5UemIbZosYd4vj3j","type":"string"},{"id":"ed6dd815-77ea-45c1-8e39-bff082a3750f","name":"markdownText","value":"={{ $json.fields['ìƒì„±ëœ_ë§ˆí¬ë‹¤ìš´'] }}","type":"string"},{"id":"889288d8-57d3-429e-83fa-f04a08e0b311","name":"title","value":"={{ $('Update Airtable Markdown').item.json.fields['ê²Œì‹œê¸€_ì œëª©'][0] }}","type":"string"},{"id":"01bd5f7e-e91f-4f56-b918-c6fdcbc975fd","name":"writer","value":"={{ $('Update Airtable Markdown').item.json.fields['ê²Œì‹œê¸€_ì‘ì„±ì'][0] }}","type":"string"},{"id":"3fbf8197-827b-40e2-8c2f-5cb32e5d4598","name":"write_at","value":"={{ $('Update Airtable Markdown').item.json.fields['ê²Œì‹œê¸€_ì‘ì„±ì¼'][0].slice(0,10) }}","type":"string"},{"id":"4bb5487f-fa12-49d5-8ae9-e644151a7379","name":"url","value":"={{ $('Update Airtable Markdown').item.json.fields.url }}","type":"string"},{"id":"339a6980-cb85-4620-b706-d18e4be5c1d4","name":"interest","value":"={{ $('Webhook').item.json.body.interest }}","type":"string"},{"id":"eaf8f424-833c-42d6-997c-cbc67d0bd95e","name":"name","value":"={{ $('Webhook').item.json.body.name[0] }}","type":"string"}]},"options":{}},"id":"f3a0fdce-97ab-478f-8b32-e993d7f9ce8e","name":"Set Slide Creation Fields","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2320,340],"notesInFlow":true,"notes":"ìŠ¬ë¼ì´ë“œ ìƒì„±ì„ ìœ„í•´ í•„ìš”í•œ í•„ë“œë¥¼ ì„¤ì •í•˜ëŠ” ë…¸ë“œ\n\n"},{"parameters":{"method":"POST","url":"https://script.google.com/macros/s/AKfycbxj-aCvDbDiccZju6t5GWCneGoY6XFWaVhbKyXIPJJ-yAHCU7GFIXRvGMR7OJ-mnRauGA/exec","sendBody":true,"specifyBody":"json","jsonBody":"=[{{ JSON.stringify($json) }}]","options":{}},"id":"d2438bf9-1ffb-4686-b51a-afe8faa331fc","name":"Slide Creation API Call","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2520,340],"executeOnce":false,"retryOnFail":false,"maxTries":5,"waitBetweenTries":5000,"notesInFlow":true,"onError":"continueRegularOutput","notes":"ìŠ¬ë¼ì´ë“œ ì œì‘ì„ ìš”ì²­í•˜ê¸° ìœ„í•´ ì™¸ë¶€ APIì— POST ìš”ì²­ì„ ë³´ë‚´ëŠ” ë…¸ë“œ\n\n"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{ $json.presentation.url }}","mode":"url"},"permissionsUi":{"permissionsValues":{"role":"writer","type":"anyone"}},"options":{}},"id":"ecf6f7e2-ead8-42f1-9633-4323ac3dd02b","name":"Google Drive Sharing","type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2740,340],"notesInFlow":true,"credentials":{"googleDriveOAuth2Api":{"id":"NWnrHyjTqPrRa3n7","name":"Google Drive account"}},"notes":"Google Driveì— ìƒì„±ëœ ìŠ¬ë¼ì´ë“œë¥¼ ê³µìœ  ì„¤ì •í•˜ëŠ” ë…¸ë“œ\n\n"},{"parameters":{"resource":"assistant","assistantId":{"__rl":true,"value":"asst_7BVp26rBBseMdm3tBYhnwetN","mode":"list","cachedResultName":"ì‚¬ë¡€ê¸€ <-> êµ¬ê¸€ ìŠ¬ë¼ì´ë“œ ë³€í™˜"},"prompt":"define","text":"=ì œëª© : {{ $json['ì œëª©'] }}\nê²Œì‹œíŒ : {{ $json['ê²Œì‹œíŒ'] }}\nURL : {{ $json.URL }}\nì‘ì„±ì : {{ $json['ì‘ì„±ì'] }}\nì‘ì„±ì¼ :  {{ $json['ì‘ì„±ì¼'] }}\në³¸ë¬¸ : {{ $json['ë³¸ë¬¸'] }}","options":{"timeout":20000}},"id":"06a75a46-7073-40fa-b692-8dde77136b4b","name":"OpenAI Content Generation (v1)","type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.6,"position":[1440,540],"notesInFlow":true,"credentials":{"openAiApi":{"id":"5ia0q77KiqTwi2aM","name":"OpenAi account"}},"notes":"OpenAIë¥¼ í†µí•´ ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ ì´ˆì•ˆì„ ìƒì„±í•˜ëŠ” ë…¸ë“œ\n\n"},{"parameters":{"modelId":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"GPT-4O"},"messages":{"values":[{"content":"ë‹¹ì‹ ì€ ë°œí‘œ ìŠ¬ë¼ì´ë“œ ì¥í‘œë¥¼ êµ¬ì„±í•˜ëŠ” ë„ìš°ë¯¸ ì—­í• ì„ í•©ë‹ˆë‹¤. ì•„ë˜ ì£¼ì–´ì§„ ì…ë ¥ê³¼ ì´ì „ì— ìƒì„±ëœ ì²« ë²ˆì§¸ ì¶œë ¥ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, ê° ì„¹ì…˜ë³„ë¡œ ì í•©í•œ ìŠ¬ë¼ì´ë“œ ì¥í‘œ êµ¬ì„± ë‚´ìš©ì„ ë‹¤ì‹œ ì‘ì„±í•˜ì„¸ìš”. ë‹¨, **\"## ì§„í–‰ ì„¸ë¶€ ë‚´ìš© ğŸ”\"** ì„¹ì…˜ì„ ê¸°ì¡´ë³´ë‹¤ í›¨ì”¬ ë” êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ ì„¹ì…˜(ì œëª©, í•˜ë ¤ë˜ ê²ƒ, í™œìš©í•œ íˆ´, ì‹œí–‰ì°©ì˜¤, ë°°ìš´ ì )ì€ ê¸°ì¡´ ìˆ˜ì¤€ì„ ìœ ì§€í•˜ì„¸ìš”.\n\në°œí‘œ ìŠ¬ë¼ì´ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤:\n\n## (ê²Œì‹œê¸€ì˜ ì œëª©)\n- ì œëª© / ê²Œì‹œíŒ / url / ì‘ì„±ì ì´ë¦„ / ì‘ì„±ì¼ ìˆœì„œëŒ€ë¡œ ì œê³µ\n- ê²Œì‹œíŒ / url / ì‘ì„±ì ì´ë¦„ / ì‘ì„±ì¼ í¬í•¨\n- ë§ˆí¬ë‹¤ìš´ í˜•íƒœë¡œ ì¶œë ¥\n\n## í•˜ë ¤ë˜ ê²ƒ ğŸ“\n- ê¸°ì¡´ ìˆ˜ì¤€ ìœ ì§€\n\n## í™œìš©í•œ íˆ´ ğŸ› ï¸\n- ê¸°ì¡´ ìˆ˜ì¤€ ìœ ì§€\n\n## ì§„í–‰ ì„¸ë¶€ ë‚´ìš© ğŸ”  \n- ì´ì „ ìƒì„±ëœ ê²°ê³¼ë³´ë‹¤ í›¨ì”¬ ë” ìƒì„¸íˆ ê¸°ìˆ í•  ê²ƒ\n- ê° ë‹¨ê³„ë¥¼ H3ë¡œ í‘œì‹œí•˜ê³  í•´ë‹¹ ë‹¨ê³„ì—ì„œ ì§„í–‰í•œ ì‹œë„, ì‚¬ìš©í•œ í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ, ì‹¤íŒ¨ ë° ìˆ˜ì • ê³¼ì •ì„ ëª¨ë‘ ë¶ˆë ›í¬ì¸íŠ¸ë¡œ ë‚˜ì—´\n- \"ë¬´ì—‡ì„, ì™œ, ì–´ë–»ê²Œ\" í–ˆëŠ”ì§€ êµ¬ì²´ì ìœ¼ë¡œ ì„œìˆ \n- ì‹¤ì œë¡œ ì‹œë„í•œ í”„ë¡¬í”„íŠ¸ë¥¼ ì¸ìš©êµ¬ í˜•íƒœ(\"...\")ë¡œ ì œì‹œí•˜ê³ , í•´ë‹¹ í”„ë¡¬í”„íŠ¸ë¡œ ì¸í•´ ì–´ë–¤ ê²°ê³¼ ë° ìˆ˜ì •ì´ ìˆì—ˆëŠ”ì§€ ì„¤ëª…\n- ë°œìƒí•œ ë¬¸ì œì , ì—ëŸ¬ ë©”ì‹œì§€, ë¡œê·¸ ë¶„ì„ ê³¼ì •, ì‚¬ìš©í•œ ë„êµ¬(n8n, OpenAI GPTs ë“±)ì™€ ëª…ë ¹ì–´ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì–¸ê¸‰\n- ì‚¬ìš©ëœ í”„ë¡¬í”„íŠ¸ëŠ” ì¸ìš©êµ¬ë¡œ í‘œí˜„\n- '~í•¨' í˜•íƒœì˜ ë¬¸ì¥ ì‚¬ìš©\n\n## ì‹œí–‰ì°©ì˜¤ âš ï¸\n- ê¸°ì¡´ ìˆ˜ì¤€ ìœ ì§€\n\n## ë°°ìš´ ì  ğŸ“š\n- ê¸°ì¡´ ìˆ˜ì¤€ ìœ ì§€\n\n## ì‘ì„± ìŠ¤íƒ€ì¼\n- ëª¨ë“  í•­ëª©ì„ ë¶ˆë ›í¬ì¸íŠ¸ë¡œ ë‚˜ì—´\n- ëª¨ë“  ì¶œë ¥ì„ ë§ˆí¬ë‹¤ìš´ ì½”ë“œë¸”ëŸ­ í˜•íƒœë¡œ ì¶œë ¥\n- ê°„ê²°í•˜ë©´ì„œë„ ì²­ìê°€ ì´í•´í•˜ê¸° ì‰½ê²Œ ëª…í™•íˆ ì‘ì„±\n- ëª¨ë“  H2, H3ì— ë³¼ë“œì²´ ì ìš©\n\nì•„ë˜ëŠ” ì´ì „ì— ìƒì„±ëœ ì²« ë²ˆì§¸ ì¶œë ¥ ê²°ê³¼ë¥¼ ì…ë ¥ìœ¼ë¡œ í™œìš©í•˜ê³ , \"## ì§„í–‰ ì„¸ë¶€ ë‚´ìš© ğŸ”\" ì„¹ì…˜ì„ ë”ìš± ìƒì„¸í•˜ê³  êµ¬ì²´ì ìœ¼ë¡œ ê¸°ìˆ í•˜ì—¬ ìµœì¢… ê²°ê³¼ë¬¼ì„ ì œì‹œí•˜ëŠ” ìš”ì²­ì…ë‹ˆë‹¤.\n","role":"system"},{"content":"=ë³¸ë¬¸ : {{ $('Fetch Case Caption Data').item.json['ë³¸ë¬¸'] }}\nì²« ë²ˆì§¸ ì¶œë ¥ ê²°ê´´ :  {{ $json.output }}"}]},"options":{"maxTokens":16383,"temperature":0}},"id":"f4a84867-2ad3-4f12-8de2-69310e9157ee","name":"OpenAI Content Generation (v2)","type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.6,"position":[1420,880],"notesInFlow":true,"credentials":{"openAiApi":{"id":"5ia0q77KiqTwi2aM","name":"OpenAi account"}},"notes":"OpenAIë¥¼ í†µí•´ ìŠ¬ë¼ì´ë“œ ë‚´ìš©ì„ ë” êµ¬ì²´ì ì´ê³  ìƒì„¸íˆ ìƒì„±í•˜ëŠ” ë…¸ë“œ\n\n"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"418a156f-9f0b-4596-8306-e8e6c5798712","leftValue":"={{ $('Slide Creation API Call').item.json.presentation.url }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}}],"combinator":"and"},"options":{}},"id":"072d7968-0151-4e3f-9fcc-7f286ea038b1","name":"Check Slide Creation Success","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[3000,340],"notesInFlow":true,"notes":"ìŠ¬ë¼ì´ë“œ ìƒì„± ì„±ê³µ ì—¬ë¶€ë¥¼ ì¡°ê±´ìœ¼ë¡œ í™•ì¸í•˜ëŠ” ë…¸ë“œ\n\n"},{"parameters":{"httpMethod":"POST","path":"contentToSlide","options":{}},"id":"3032dbdc-2ff1-4552-86ac-fb663bb616cc","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[820,320],"webhookId":"86bbed6b-bf6a-401c-8f16-74f00c5ff695"},{"parameters":{"method":"POST","url":"={{ $vars.gpters_internal_api_endpoint }}/emails","sendHeaders":true,"headerParameters":{"parameters":[{"name":"={{ $vars.gpters_internal_api_token_key }}","value":"={{ $vars.gpters_internal_api_token }}"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"content","value":"={{ $json.content }}"},{"name":"preview","value":"={{ $json.preview }}"},{"name":"bcc","value":"={{ [JSON.stringify($json.email) ]}}"},{"name":"title","value":"={{ $json.title }}"},{"name":"transactionId","value":"={{ $json.transactionId }}"},{"name":"=emailId","value":"={{ $json.emailId }}"}]},"options":{"batching":{"batch":{"batchSize":10,"batchInterval":10000}}}},"id":"53fe403e-887c-45be-925c-eb5cdf3015a5","name":"Email Sending API","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3700,340],"retryOnFail":true,"maxTries":5,"waitBetweenTries":5000,"notesInFlow":true,"onError":"continueRegularOutput","notes":"- **ì„¤ëª…**: ì¤€ë¹„ëœ ì´ë©”ì¼ ì½˜í…ì¸ ë¥¼ ì§€ì •ëœ APIë¡œ ì „ì†¡í•©ë‹ˆë‹¤.\n- **ê¸°ëŠ¥**: ì„¤ì •ëœ API ì—”ë“œí¬ì¸íŠ¸ë¡œ ì´ë©”ì¼ì„ POST ìš”ì²­ìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤. ì‹¤íŒ¨ ì‹œ ìµœëŒ€ 5íšŒ ì¬ì‹œë„í•˜ë©°, ì„±ê³µ ì‹œ ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤."},{"parameters":{"assignments":{"assignments":[{"id":"6b9af878-44db-4e39-bdcd-4f3b0fb8f52b","name":"email","value":"={{ $('Webhook').item.json.body.email[0] }}","type":"string"},{"id":"e1abb5e1-24c7-4f93-a599-fc4ec54a74a7","name":"title","value":"=[ì§€í”¼í„°ìŠ¤ ì‚¬ë¡€íƒìƒ‰ ìŠ¤í„°ë””] {{ $('Fetch Case Caption Data').item.json['ì œëª©'] }} ìŠ¬ë¼ì´ë“œë¥¼ ì „ë‹¬ë“œë¦½ë‹ˆë‹¤.","type":"string"},{"id":"7bfdf960-61e7-413c-bc66-fee9f0e8e960","name":"preview","value":"=[ì§€í”¼í„°ìŠ¤ ì‚¬ë¡€íƒìƒ‰ ìŠ¤í„°ë””] {{ $('Fetch Case Caption Data').item.json['ì œëª©'] }} ìŠ¬ë¼ì´ë“œë¥¼ ì „ë‹¬ë“œë¦½ë‹ˆë‹¤.","type":"string"},{"id":"7da176d0-58f6-4102-8ced-3e418a69e5ca","name":"content","value":"=ì•ˆë…•í•˜ì„¸ìš”, **{{ $('Webhook').item.json.body.name[0] }}** ë‹˜.\n\n**{{ $('Fetch Case Caption Data').item.json['ì œëª©'] }}** ìŠ¬ë¼ì´ë“œ ì´ˆì•ˆì´ ì œì‘ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\n\n**ìŠ¬ë¼ì´ë“œ í•­ëª©**\n\n\n- í•˜ë ¤ë˜ ê²ƒ ğŸ“\n- í™œìš©í•œ íˆ´ ğŸ› ï¸\n- ì§„í–‰ ì„¸ë¶€ ë‚´ìš© ğŸ”\n- ì‹œí–‰ì°©ì˜¤ âš ï¸\n- ë°°ìš´ ì  ğŸ“š\n- í¥ë¯¸ë¡œìš´ í¬ì¸íŠ¸ ğŸ‘€\n\n\ní•´ë‹¹ ìŠ¬ë¼ì´ë“œëŠ” GPTë¡œ ìƒì„±í•œ ê²ƒì´ê¸° ë•Œë¬¸ì— í• ë£¨ì‹œë„¤ì´ì…˜(ê±°ì§“ ë‚´ìš©)ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŠ¬ë¼ì´ë“œ ì´ˆì•ˆì„ ì‚´í´ë³´ì‹œê³ , ìŠ¤í„°ë””ì›ë“¤ì—ê²Œ ê³µìœ í•´ì¤„ ë‚´ìš©ìœ¼ë¡œ ì•½ê°„ ìˆ˜ì •í•˜ì—¬ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤!\n\n\n**ìŠ¬ë¼ì´ë“œ ì´ˆì•ˆ í™•ì¸í•˜ê¸°** : [ë§í¬]({{ $('Slide Creation API Call').item.json.presentation.url }})","type":"string"},{"id":"a21ba986-b0fa-4adc-a4de-31c4ddbdebbd","name":"transactionId","value":"={{ $now.format('yyMMddhhmmss') }}","type":"string"},{"id":"ab6b7cdf-2c70-445d-a20e-fc81ee914835","name":"emailId","value":"ì‚¬ë¡€ê¸€ <-> ìŠ¬ë¼ì´ë“œ","type":"string"}]},"options":{}},"id":"6cbf6e7a-bd0c-4525-a901-36ab81f8683b","name":"setEmailContent","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3320,340],"notes":"### 6. sendEmail\n- **ì„¤ëª…**: ì¤€ë¹„ëœ ì½˜í…ì¸ ë¥¼ ì´ë©”ì¼ë¡œ ì „ì†¡í•˜ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.\n- **ê¸°ëŠ¥**: Airtable ë° í…œí”Œë¦¿ì—ì„œ ì¶”ì¶œí•œ ì´ë©”ì¼, ì œëª©, ë‚´ìš©, ë¯¸ë¦¬ë³´ê¸° ë“±ì˜ ì •ë³´ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤."},{"parameters":{"assignments":{"assignments":[{"id":"e098d614-d3f6-430e-8cad-a80eba37bffe","name":"text","value":"êµ¬ê¸€ ìŠ¬ë¼ì´ë“œ ìë™í™” ì—ëŸ¬ ë°œìƒ","type":"string"}]},"options":{}},"id":"3b6d1d54-c71f-4be7-9bb8-a50f40fa2ac5","name":"setErrorMessage","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3320,600]},{"parameters":{"operation":"update","base":{"__rl":true,"value":"https://airtable.com/appsRgeLHAbb1wIZU/tblGckFQ2ZUEjYqJA/viwMJjwm29PWhQZWi?blocks=hide","mode":"url"},"table":{"__rl":true,"value":"tblKTujZcvOlsWAg5","mode":"list","cachedResultName":"í¥ë¯¸ë¡œìš´ í¬ì¸íŠ¸","cachedResultUrl":"https://airtable.com/appsRgeLHAbb1wIZU/tblKTujZcvOlsWAg5"},"columns":{"mappingMode":"defineBelow","value":{"id":"={{ $('Webhook').item.json.body.r_id }}","ìƒì„±ëœ_ìŠ¬ë¼ì´ë“œ":"={{ $('Slide Creation API Call').item.json.presentation.url }}"},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true},{"id":"r_id","displayName":"r_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"url","displayName":"url","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"ì „í™”ë²ˆí˜¸","displayName":"ì „í™”ë²ˆí˜¸","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"í¥ë¯¸ë¡œìš´ ì ","displayName":"í¥ë¯¸ë¡œìš´ ì ","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"ì°¸ì—¬ì","displayName":"ì°¸ì—¬ì","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"array","readOnly":false,"removed":false},{"id":"ì´ë¦„_ë‹‰ë„¤ì„","displayName":"ì´ë¦„_ë‹‰ë„¤ì„","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ìµœê·¼ 1ë…„ ê²Œì‹œê¸€","displayName":"ìµœê·¼ 1ë…„ ê²Œì‹œê¸€","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"array","readOnly":false,"removed":false},{"id":"ê²Œì‹œê¸€_ì‘ì„±ì¼","displayName":"ê²Œì‹œê¸€_ì‘ì„±ì¼","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ê²Œì‹œê¸€_ì‘ì„±ì","displayName":"ê²Œì‹œê¸€_ì‘ì„±ì","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ê²Œì‹œê¸€_ì œëª©","displayName":"ê²Œì‹œê¸€_ì œëª©","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ê²Œì‹œê¸€_í´ë¡œë“œ ìš”ì•½","displayName":"ê²Œì‹œê¸€_í´ë¡œë“œ ìš”ì•½","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ê²Œì‹œê¸€_URL","displayName":"ê²Œì‹œê¸€_URL","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ìƒì„±ëœ_ë§ˆí¬ë‹¤ìš´","displayName":"ìƒì„±ëœ_ë§ˆí¬ë‹¤ìš´","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"ì´ë©”ì¼","displayName":"ì´ë©”ì¼","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"ìƒì„±ëœ_ìŠ¬ë¼ì´ë“œ","displayName":"ìƒì„±ëœ_ìŠ¬ë¼ì´ë“œ","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}]},"options":{}},"id":"34a6e57b-bc25-4222-a501-d3776d0b8060","name":"saveSlideUrlAirtable","type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[4200,340],"credentials":{"airtableTokenApi":{"id":"v6sNKykfBVnEaT0g","name":"Airtable Personal Access Token account"}}},{"parameters":{"assignments":{"assignments":[{"id":"15f8805a-a78c-4454-aaa9-5e9d032b445d","name":"text","value":"={{ $('Slide Creation API Call').item.json.presentation.url }} ìŠ¬ë¼ì´ë“œ ìƒì„± ì„±ê³µ!","type":"string"}]},"options":{}},"id":"e14328b1-068e-412d-9c90-e06f882ffef4","name":"setSuccessText","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[4700,340]},{"parameters":{"content":"## WEBHOOK ì…ë ¥ì„ ë°›ê³   Airtableì—ì„œ ë³¸ë¬¸ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ OPENAI API í˜¸ì¶œì„ 2ë²ˆ ì§„í–‰í•©ë‹ˆë‹¤.","height":845.6832670157065,"width":1066.5770890052333,"color":7},"id":"622c9c9d-6b73-47b8-bd5a-32d0580ebe0c","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[800,260]},{"parameters":{"content":"## ìƒì„±ëœ ë§ˆí¬ë‹¤ìš´ ë‚´ìš©ì„ ì €ì¥ ë° ì „ì²˜ë¦¬","height":331.4208167539266,"width":389.1126282722514},"id":"1fc944e6-7f34-44d7-969e-5e9da8bf63bc","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[1880,260]},{"parameters":{"content":"## ìŠ¬ë¼ì´ë“œ ìƒì„±ê³¼ ìƒì„±ëœ ìŠ¬ë¼ì´ë“œ ê¶Œí•œì„ ë³€ê²½í•©ë‹ˆë‹¤.","height":323.54763699196485,"width":621.5874345549744},"id":"b3229bc0-56da-45b1-8e26-3a447490fb6e","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[2280,263.09663525934394]},{"parameters":{"content":"## êµ¬ê¸€ ìŠ¬ë¼ì´ë“œê°€ ì œëŒ€ë¡œ ë§Œë“¤ì–´ì§€ì§€ ì•Šì€ ê²½ìš° ì˜ˆì™¸ì²˜ë¦¬","height":258.6686123042877,"width":568.8953743476251},"id":"3eb9dd6f-b75b-4ec1-8d9e-454a82a749c0","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[3260,540]},{"parameters":{"content":"## ë§Œë“¤ì–´ì§„ ìŠ¬ë¼ì´ë“œë¥¼ í¼ì„ ì‘ì„±í•œ ì‘ì„±ìì—ê²Œ ì´ë©”ì¼ë¡œ ì†¡ë¶€ í›„ ìŠ¬ë¼ì´ë“œ urlì„ Airtableì— ì €ì¥","height":247.32739249919732,"width":952.2286037596846},"id":"e29147ae-9c7b-407d-9f30-dbf539e0888a","name":"Sticky Note4","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[3260,260]},{"parameters":{"content":"## êµ¬ê¸€ ìŠ¬ë¼ì´ë“œê°€ ì œëŒ€ë¡œ ë§Œë“¤ì–´ì§„ ê²½ìš° ìŠ¬ë™ì— ì•Œë¦¼","height":258.6686123042877,"width":568.8953743476251},"id":"259e61b5-b74e-4c9b-a298-3009c1d04ffa","name":"Sticky Note5","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[4440,260]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"358eb780-bc54-47da-8f64-2dab6c1c709c","leftValue":"={{ $json.error.message }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}}],"combinator":"and"},"options":{}},"id":"1e60f796-2e13-4566-99a5-474b89e11cd7","name":"If","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[3960,340]},{"parameters":{"workflowId":{"__rl":true,"value":"NdYsl2DxRQEFUXG9","mode":"list","cachedResultName":"GPTers â€” slackNoti_n8n_log"},"options":{}},"id":"74e65d78-1299-4839-b29e-3526d6c3317c","name":"Execute Workflow2","type":"n8n-nodes-base.executeWorkflow","typeVersion":1.1,"position":[4900,600],"executeOnce":true},{"parameters":{"assignments":{"assignments":[{"id":"15f8805a-a78c-4454-aaa9-5e9d032b445d","name":"text","value":"={{ $json.error.message }} ì—ëŸ¬ë°œìƒ","type":"string"}]},"options":{}},"id":"6f40c360-707e-4909-a589-eaf480527374","name":"setErrorText","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[4680,600]},{"parameters":{"content":"## êµ¬ê¸€ ìŠ¬ë¼ì´ë“œê°€ ì œëŒ€ë¡œ ë§Œë“¤ì–´ì§€ì§€ ì•Šì€ ê²½ìš° ì˜ˆì™¸ì²˜ë¦¬","height":258.6686123042877,"width":568.8953743476251},"id":"569823f5-1378-4d00-9a12-e31cdc212027","name":"Sticky Note6","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[4440,540]}],"connections":{"Fetch Case Caption Data":{"main":[[{"node":"OpenAI Content Generation (v1)","type":"main","index":0}]]},"Update Airtable Markdown":{"main":[[{"node":"Markdown Processor","type":"main","index":0}]]},"Markdown Processor":{"main":[[{"node":"Set Slide Creation Fields","type":"main","index":0}]]},"Set Slide Creation Fields":{"main":[[{"node":"Slide Creation API Call","type":"main","index":0}]]},"Slide Creation API Call":{"main":[[{"node":"Google Drive Sharing","type":"main","index":0}]]},"Google Drive Sharing":{"main":[[{"node":"Check Slide Creation Success","type":"main","index":0}]]},"OpenAI Content Generation (v1)":{"main":[[{"node":"OpenAI Content Generation (v2)","type":"main","index":0}]]},"OpenAI Content Generation (v2)":{"main":[[{"node":"Update Airtable Markdown","type":"main","index":0}]]},"Check Slide Creation Success":{"main":[[{"node":"setEmailContent","type":"main","index":0}],[{"node":"setErrorMessage","type":"main","index":0}]]},"Webhook":{"main":[[{"node":"Fetch Case Caption Data","type":"main","index":0}]]},"Email Sending API":{"main":[[{"node":"If","type":"main","index":0}]]},"setEmailContent":{"main":[[{"node":"Email Sending API","type":"main","index":0}]]},"setErrorMessage":{"main":[[{"node":"Execute Workflow","type":"main","index":0}]]},"saveSlideUrlAirtable":{"main":[[{"node":"setSuccessText","type":"main","index":0}]]},"setSuccessText":{"main":[[{"node":"Execute Workflow1","type":"main","index":0}]]},"If":{"main":[[{"node":"setErrorText","type":"main","index":0}],[{"node":"saveSlideUrlAirtable","type":"main","index":0}]]},"setErrorText":{"main":[[{"node":"Execute Workflow2","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","saveManualExecutions":false,"callerPolicy":"workflowsFromSameOwner","errorWorkflow":"2FkHbmnpOA9Y42fo"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{"Content To Slide Webhook":[{"json":{"headers":{"host":"geniefy.app.n8n.cloud","user-agent":"Mozilla/5.0 (compatible; AirtableScripting; +https://airtable.com/developers/scripting;)","content-length":"222","accept":"*/*","accept-encoding":"gzip, br","authorization":"Basic Z3B0ZXJzOkdwdGVyczIwMjNAIw==","cdn-loop":"cloudflare; loops=1; subreqs=1","cf-connecting-ip":"34.229.158.175","cf-ew-via":"15","cf-ipcountry":"US","cf-ray":"8f03590a45075a28-IAD","cf-visitor":"{\"scheme\":\"https\"}","cf-worker":"n8n.cloud","content-type":"application/json","x-airtable-source":"appsRgeLHAbb1wIZU/wflXioM09JEdvaWSL","x-forwarded-for":"34.229.158.175, 172.70.35.81","x-forwarded-host":"geniefy.app.n8n.cloud","x-forwarded-port":"443","x-forwarded-proto":"https","x-forwarded-server":"traefik-prod-users-gwc-5-6fbf5bdbfc-6hns9","x-is-trusted":"yes","x-real-ip":"34.229.158.175"},"params":{},"query":{},"body":{"phone":"01041140750","url":"https://www.gpters.org/dev/post/donggeoindeulyi-saenghwalbi-nbbang-jeongsanhagi-feat-streamlit-hAU33mj53dWRBBB","interest":"í…ŒìŠ¤íŠ¸\ní…ŒìŠ¤íŠ¸\n","r_id":"rec2qLuLUyotcosBa","email":["jgpark1998@gmail.com"],"name":["ë°•ì •ê¸°"]},"webhookUrl":"https://geniefy.app.n8n.cloud/webhook/contentToSlide","executionMode":"production"}}],"Webhook":[{"json":{"headers":{"host":"geniefy.app.n8n.cloud","user-agent":"Mozilla/5.0 (compatible; AirtableScripting; +https://airtable.com/developers/scripting;)","content-length":"494","accept":"*/*","accept-encoding":"gzip, br","authorization":"Basic Z3B0ZXJzOkdwdGVyczIwMjNAIw==","cdn-loop":"cloudflare; loops=1; subreqs=1","cf-connecting-ip":"54.160.152.202","cf-ew-via":"15","cf-ipcountry":"US","cf-ray":"8f128ca4e1f66f9d-IAD","cf-visitor":"{\"scheme\":\"https\"}","cf-worker":"n8n.cloud","content-type":"application/json","x-airtable-source":"appsRgeLHAbb1wIZU/wflm7wGJsvosfKbIR","x-forwarded-for":"54.160.152.202, 172.70.175.34","x-forwarded-host":"geniefy.app.n8n.cloud","x-forwarded-port":"443","x-forwarded-proto":"https","x-forwarded-server":"traefik-prod-users-gwc-5-6fbf5bdbfc-6hns9","x-is-trusted":"yes","x-real-ip":"54.160.152.202"},"params":{},"query":{},"body":{"phone":"01044535752","url":"https://www.gpters.org/dev/post/donggeoindeulyi-saenghwalbi-nbbang-jeongsanhagi-feat-streamlit-hAU33mj53dWRBBB","interest":"ëŒ€ë‹¨í•œ ì•± ì„œë¹„ìŠ¤ê°€ ì•„ë‹ˆë¼, ì§„ì§œ ì¼ìƒìƒí™œì— í•„ìš”í•˜ê³  ìœ ìš©í•œ ìë™í™”ë¥¼ ì‰½ê²Œ í•´ë‚¸ ì ì´ í¥ë¯¸ë¡œì› ìŒ\nìŠ¤íŠ¸ë¦¼ë¦¿ì´ ë­”ì§€ ëª°ë¼ë„ ì½”ë“œ í•œ ì¤„ ì•ˆì§œê³ ë„ GPTë§Œ ì“°ê³ ë„ í•„ìš”í•œ ì›¹ UIê¹Œì§€ ë‹´ì€ ì ì´ í¥ë¯¸ë¡œì› ìŒ","r_id":"recHFSpaYhpJJFFzZ","email":"dahye@gpters.org","name":"ì†¡ë‹¤í˜œ"},"webhookUrl":"https://geniefy.app.n8n.cloud/webhook/contentToSlide","executionMode":"production"}}]},"versionId":"d250c91e-d636-47d5-bcfc-2693e477e116","triggerCount":1,"tags":[{"createdAt":"2024-10-30T08:32:06.157Z","updatedAt":"2024-10-30T08:32:06.157Z","id":"6XNkyT4y92x85aDE","name":"ì´ë©”ì¼"}]}